{
  "summary": {
    "timestamp": "2025-12-21T23:33:27.942340",
    "total_tests": 5,
    "tests_passed": 5,
    "tests_failed": 0,
    "pass_rate": 1.0,
    "all_passed": true
  },
  "individual_results": {
    "L1-1": {
      "test_id": "L1-1",
      "test_name": "Semantic Entropy Calibration",
      "overall_passed": true,
      "individual_tests": {
        "spearman_correlation": {
          "test_name": "Spearman Correlation",
          "metric": "spearman_rho",
          "value": 0.6609974689591707,
          "p_value": 1.745855733174681e-07,
          "threshold": 0.6,
          "passed": "True",
          "interpretation": "PASS: \u03c1=0.661 > 0.6"
        },
        "auc_roc": {
          "test_name": "AUC-ROC",
          "metric": "auc_roc",
          "value": 0.8333333333333333,
          "threshold": 0.75,
          "passed": true,
          "interpretation": "PASS: AUC=0.833 > 0.75"
        },
        "high_ambiguity_recall": {
          "test_name": "High Ambiguity Recall",
          "metric": "recall_high_ambiguity",
          "value": 0.8,
          "threshold": 0.8,
          "optimal_entropy_threshold": 1.5709505944546687,
          "false_positive_rate": 0.26666666666666666,
          "passed": true,
          "interpretation": "PASS: Recall=0.800 > 0.8"
        }
      },
      "detailed_results": [
        {
          "id": 1,
          "text": "My blood glucose reading was 156 mg/dL at 8am",
          "ground_truth_ambiguity": 1,
          "computed_entropy": 0.0,
          "num_clusters": 1,
          "clusters": {
            "33747003": 10
          }
        },
        {
          "id": 2,
          "text": "I injected 4 units of insulin before dinner",
          "ground_truth_ambiguity": 1,
          "computed_entropy": 0.0,
          "num_clusters": 1,
          "clusters": {
            "412222008": 10
          }
        },
        {
          "id": 3,
          "text": "Experienced hypoglycemia around 3pm",
          "ground_truth_ambiguity": 1,
          "computed_entropy": 0.0,
          "num_clusters": 1,
          "clusters": {
            "302866003": 10
          }
        },
        {
          "id": 4,
          "text": "Woke up with a severe headache",
          "ground_truth_ambiguity": 1,
          "computed_entropy": 0.0,
          "num_clusters": 1,
          "clusters": {
            "25064002": 10
          }
        },
        {
          "id": 5,
          "text": "Had nausea after taking medication",
          "ground_truth_ambiguity": 1,
          "computed_entropy": 0.0,
          "num_clusters": 1,
          "clusters": {
            "422587007": 10
          }
        },
        {
          "id": 6,
          "text": "Missed my morning dose today",
          "ground_truth_ambiguity": 1,
          "computed_entropy": 0.0,
          "num_clusters": 1,
          "clusters": {
            "261665006": 10
          }
        },
        {
          "id": 7,
          "text": "Blood pressure was 130/85",
          "ground_truth_ambiguity": 1,
          "computed_entropy": 0.0,
          "num_clusters": 1,
          "clusters": {
            "75367002": 10
          }
        },
        {
          "id": 8,
          "text": "Had a meal with approximately 60 grams of carbohydrates",
          "ground_truth_ambiguity": 1,
          "computed_entropy": 0.0,
          "num_clusters": 1,
          "clusters": {
            "226379006": 10
          }
        },
        {
          "id": 9,
          "text": "Exercised for 30 minutes on the treadmill",
          "ground_truth_ambiguity": 1,
          "computed_entropy": 0.7836388806542579,
          "num_clusters": 3,
          "clusters": {
            "367391008": 1,
            "261665006": 8,
            "422587007": 1
          }
        },
        {
          "id": 10,
          "text": "Slept only 4 hours last night",
          "ground_truth_ambiguity": 1,
          "computed_entropy": 0.9832627020299836,
          "num_clusters": 3,
          "clusters": {
            "261665006": 7,
            "422587007": 1,
            "84229001": 2
          }
        },
        {
          "id": 11,
          "text": "Felt slightly tired in the afternoon",
          "ground_truth_ambiguity": 2,
          "computed_entropy": 0.0,
          "num_clusters": 1,
          "clusters": {
            "84229001": 10
          }
        },
        {
          "id": 12,
          "text": "Had some discomfort after eating",
          "ground_truth_ambiguity": 2,
          "computed_entropy": 0.0,
          "num_clusters": 1,
          "clusters": {
            "226379006": 10
          }
        },
        {
          "id": 13,
          "text": "Feeling a bit weak today",
          "ground_truth_ambiguity": 2,
          "computed_entropy": 2.246439344671016,
          "num_clusters": 5,
          "clusters": {
            "422587007": 3,
            "367391008": 2,
            "84229001": 2,
            "404640003": 1,
            "261665006": 2
          }
        },
        {
          "id": 14,
          "text": "My appetite was reduced",
          "ground_truth_ambiguity": 2,
          "computed_entropy": 1.5709505944546687,
          "num_clusters": 4,
          "clusters": {
            "261665006": 6,
            "367391008": 1,
            "422587007": 2,
            "84229001": 1
          }
        },
        {
          "id": 15,
          "text": "Had trouble concentrating at work",
          "ground_truth_ambiguity": 2,
          "computed_entropy": 2.1219280948873624,
          "num_clusters": 5,
          "clusters": {
            "84229001": 2,
            "261665006": 4,
            "367391008": 2,
            "422587007": 1,
            "404640003": 1
          }
        },
        {
          "id": 16,
          "text": "Skin felt dry and itchy",
          "ground_truth_ambiguity": 2,
          "computed_entropy": 1.5709505944546687,
          "num_clusters": 4,
          "clusters": {
            "422587007": 2,
            "404640003": 1,
            "261665006": 6,
            "84229001": 1
          }
        },
        {
          "id": 17,
          "text": "Experienced some tingling in my feet",
          "ground_truth_ambiguity": 2,
          "computed_entropy": 0.9219280948873623,
          "num_clusters": 3,
          "clusters": {
            "261665006": 8,
            "404640003": 1,
            "367391008": 1
          }
        },
        {
          "id": 18,
          "text": "Vision seemed blurry this morning",
          "ground_truth_ambiguity": 2,
          "computed_entropy": 1.9609640474436814,
          "num_clusters": 5,
          "clusters": {
            "404640003": 2,
            "261665006": 5,
            "367391008": 1,
            "84229001": 1,
            "422587007": 1
          }
        },
        {
          "id": 19,
          "text": "Had to urinate frequently",
          "ground_truth_ambiguity": 2,
          "computed_entropy": 1.1567796494470395,
          "num_clusters": 3,
          "clusters": {
            "261665006": 7,
            "422587007": 2,
            "367391008": 1
          }
        },
        {
          "id": 20,
          "text": "Felt thirsty throughout the day",
          "ground_truth_ambiguity": 2,
          "computed_entropy": 1.5709505944546687,
          "num_clusters": 4,
          "clusters": {
            "261665006": 6,
            "404640003": 2,
            "422587007": 1,
            "367391008": 1
          }
        },
        {
          "id": 21,
          "text": "Didnt feel great after lunch",
          "ground_truth_ambiguity": 3,
          "computed_entropy": 1.3567796494470397,
          "num_clusters": 4,
          "clusters": {
            "261665006": 7,
            "404640003": 1,
            "84229001": 1,
            "367391008": 1
          }
        },
        {
          "id": 22,
          "text": "Energy levels were low today",
          "ground_truth_ambiguity": 3,
          "computed_entropy": 1.1567796494470395,
          "num_clusters": 3,
          "clusters": {
            "261665006": 7,
            "367391008": 2,
            "84229001": 1
          }
        },
        {
          "id": 23,
          "text": "Had an episode in the afternoon",
          "ground_truth_ambiguity": 3,
          "computed_entropy": 0.9219280948873623,
          "num_clusters": 3,
          "clusters": {
            "261665006": 8,
            "404640003": 1,
            "84229001": 1
          }
        },
        {
          "id": 24,
          "text": "Symptoms were worse than usual",
          "ground_truth_ambiguity": 3,
          "computed_entropy": 0.8297352853986261,
          "num_clusters": 3,
          "clusters": {
            "261665006": 8,
            "404640003": 1,
            "367391008": 1
          }
        },
        {
          "id": 25,
          "text": "Body felt strange today",
          "ground_truth_ambiguity": 3,
          "computed_entropy": 1.1567796494470395,
          "num_clusters": 3,
          "clusters": {
            "261665006": 7,
            "367391008": 1,
            "84229001": 2
          }
        },
        {
          "id": 26,
          "text": "Had a reaction to something",
          "ground_truth_ambiguity": 3,
          "computed_entropy": 2.196928094887362,
          "num_clusters": 5,
          "clusters": {
            "422587007": 2,
            "84229001": 4,
            "261665006": 1,
            "367391008": 2,
            "404640003": 1
          }
        },
        {
          "id": 27,
          "text": "Things went downhill after breakfast",
          "ground_truth_ambiguity": 3,
          "computed_entropy": 1.6459505944546686,
          "num_clusters": 4,
          "clusters": {
            "367391008": 2,
            "84229001": 1,
            "261665006": 6,
            "404640003": 1
          }
        },
        {
          "id": 28,
          "text": "Felt different than normal",
          "ground_truth_ambiguity": 3,
          "computed_entropy": 0.0,
          "num_clusters": 1,
          "clusters": {
            "367391008": 10
          }
        },
        {
          "id": 29,
          "text": "The medication seemed to affect me",
          "ground_truth_ambiguity": 3,
          "computed_entropy": 0.0,
          "num_clusters": 1,
          "clusters": {
            "261665006": 10
          }
        },
        {
          "id": 30,
          "text": "My condition changed during the day",
          "ground_truth_ambiguity": 3,
          "computed_entropy": 0.9219280948873623,
          "num_clusters": 3,
          "clusters": {
            "422587007": 1,
            "261665006": 8,
            "84229001": 1
          }
        },
        {
          "id": 31,
          "text": "Something was off today",
          "ground_truth_ambiguity": 4,
          "computed_entropy": 0.0,
          "num_clusters": 1,
          "clusters": {
            "367391008": 10
          }
        },
        {
          "id": 32,
          "text": "Had issues again",
          "ground_truth_ambiguity": 4,
          "computed_entropy": 2.1459505944546686,
          "num_clusters": 4,
          "clusters": {
            "367391008": 3,
            "422587007": 3,
            "261665006": 2,
            "404640003": 2
          }
        },
        {
          "id": 33,
          "text": "The usual problems occurred",
          "ground_truth_ambiguity": 4,
          "computed_entropy": 1.6209505944546687,
          "num_clusters": 4,
          "clusters": {
            "261665006": 6,
            "367391008": 1,
            "404640003": 1,
            "84229001": 2
          }
        },
        {
          "id": 34,
          "text": "It happened again",
          "ground_truth_ambiguity": 4,
          "computed_entropy": 1.8964393446710155,
          "num_clusters": 4,
          "clusters": {
            "404640003": 2,
            "261665006": 4,
            "422587007": 1,
            "367391008": 3
          }
        },
        {
          "id": 35,
          "text": "Felt the thing coming on",
          "ground_truth_ambiguity": 4,
          "computed_entropy": 1.1567796494470395,
          "num_clusters": 3,
          "clusters": {
            "84229001": 1,
            "261665006": 7,
            "422587007": 2
          }
        },
        {
          "id": 36,
          "text": "Morning was difficult",
          "ground_truth_ambiguity": 4,
          "computed_entropy": 1.7709505944546688,
          "num_clusters": 5,
          "clusters": {
            "261665006": 6,
            "84229001": 1,
            "367391008": 1,
            "422587007": 1,
            "404640003": 1
          }
        },
        {
          "id": 37,
          "text": "Bad day overall",
          "ground_truth_ambiguity": 4,
          "computed_entropy": 1.5709505944546687,
          "num_clusters": 4,
          "clusters": {
            "261665006": 6,
            "404640003": 1,
            "367391008": 2,
            "84229001": 1
          }
        },
        {
          "id": 38,
          "text": "Struggled with the treatment",
          "ground_truth_ambiguity": 4,
          "computed_entropy": 1.1567796494470395,
          "num_clusters": 3,
          "clusters": {
            "261665006": 7,
            "84229001": 2,
            "422587007": 1
          }
        },
        {
          "id": 39,
          "text": "Things got complicated",
          "ground_truth_ambiguity": 4,
          "computed_entropy": 2.045950594454669,
          "num_clusters": 4,
          "clusters": {
            "367391008": 2,
            "261665006": 3,
            "404640003": 2,
            "422587007": 3
          }
        },
        {
          "id": 40,
          "text": "Noticed changes",
          "ground_truth_ambiguity": 4,
          "computed_entropy": 1.9609640474436814,
          "num_clusters": 5,
          "clusters": {
            "261665006": 5,
            "84229001": 1,
            "367391008": 1,
            "422587007": 2,
            "404640003": 1
          }
        },
        {
          "id": 41,
          "text": "...",
          "ground_truth_ambiguity": 5,
          "computed_entropy": 2.321928094887362,
          "num_clusters": 5,
          "clusters": {
            "84229001": 2,
            "367391008": 4,
            "404640003": 1,
            "261665006": 2,
            "422587007": 1
          }
        },
        {
          "id": 42,
          "text": "You know how it is",
          "ground_truth_ambiguity": 5,
          "computed_entropy": 2.0209505944546686,
          "num_clusters": 4,
          "clusters": {
            "84229001": 3,
            "422587007": 2,
            "404640003": 2,
            "261665006": 3
          }
        },
        {
          "id": 43,
          "text": "Same as before",
          "ground_truth_ambiguity": 5,
          "computed_entropy": 1.8719280948873622,
          "num_clusters": 4,
          "clusters": {
            "404640003": 4,
            "422587007": 4,
            "84229001": 1,
            "261665006": 1
          }
        },
        {
          "id": 44,
          "text": "Nothing new to report maybe",
          "ground_truth_ambiguity": 5,
          "computed_entropy": 1.8359640474436811,
          "num_clusters": 4,
          "clusters": {
            "261665006": 5,
            "84229001": 2,
            "422587007": 1,
            "404640003": 2
          }
        },
        {
          "id": 45,
          "text": "I dont know",
          "ground_truth_ambiguity": 5,
          "computed_entropy": 1.8969280948873624,
          "num_clusters": 4,
          "clusters": {
            "404640003": 4,
            "261665006": 4,
            "422587007": 1,
            "84229001": 1
          }
        },
        {
          "id": 46,
          "text": "Whatever",
          "ground_truth_ambiguity": 5,
          "computed_entropy": 1.6854752972273344,
          "num_clusters": 3,
          "clusters": {
            "404640003": 3,
            "422587007": 2,
            "367391008": 5
          }
        },
        {
          "id": 47,
          "text": "Fine I guess",
          "ground_truth_ambiguity": 5,
          "computed_entropy": 2.421439344671015,
          "num_clusters": 5,
          "clusters": {
            "261665006": 3,
            "422587007": 2,
            "367391008": 2,
            "404640003": 2,
            "84229001": 1
          }
        },
        {
          "id": 48,
          "text": "See previous notes",
          "ground_truth_ambiguity": 5,
          "computed_entropy": 1.5354752972273344,
          "num_clusters": 3,
          "clusters": {
            "261665006": 5,
            "422587007": 3,
            "367391008": 2
          }
        },
        {
          "id": 49,
          "text": "Like I said",
          "ground_truth_ambiguity": 5,
          "computed_entropy": 2.3209505944546684,
          "num_clusters": 5,
          "clusters": {
            "422587007": 2,
            "84229001": 3,
            "261665006": 3,
            "367391008": 1,
            "404640003": 1
          }
        },
        {
          "id": 50,
          "text": "Meh",
          "ground_truth_ambiguity": 5,
          "computed_entropy": 2.2469280948873624,
          "num_clusters": 5,
          "clusters": {
            "261665006": 4,
            "367391008": 2,
            "84229001": 2,
            "422587007": 1,
            "404640003": 1
          }
        }
      ],
      "summary_statistics": {
        "mean_entropy_by_rating": {
          "1": 0.17669015826842416,
          "2": 1.3120891014700464,
          "3": 1.01868091128565,
          "4": 1.5325715663282122,
          "5": 2.015796755502815
        },
        "total_test_cases": 50
      }
    },
    "L1-2": {
      "test_id": "L1-2",
      "test_name": "HITL Trigger Calibration",
      "overall_passed": "True",
      "optimal_threshold": 0.0,
      "individual_tests": {
        "error_capture_rate": {
          "test_name": "Error Capture Rate",
          "metric": "error_capture_rate",
          "value": 0.8863636363636364,
          "threshold": 0.8,
          "entropy_threshold_used": 0.0,
          "passed": "True",
          "interpretation": "PASS: Capture=0.886 \u2265 0.8"
        },
        "false_alarm_rate": {
          "test_name": "False Alarm Rate",
          "metric": "false_alarm_rate",
          "value": 0.0,
          "threshold": 0.4,
          "passed": "True",
          "interpretation": "PASS: FAR=0.000 \u2264 0.4"
        }
      },
      "threshold_analysis": [
        {
          "threshold": 0.0,
          "error_capture_rate": 0.8863636363636364,
          "false_alarm_rate": 0.0,
          "score": 0.8863636363636364
        },
        {
          "threshold": 0.0,
          "error_capture_rate": 0.8863636363636364,
          "false_alarm_rate": 0.0,
          "score": 0.8863636363636364
        },
        {
          "threshold": 0.0,
          "error_capture_rate": 0.8863636363636364,
          "false_alarm_rate": 0.0,
          "score": 0.8863636363636364
        },
        {
          "threshold": 0.3528914875655206,
          "error_capture_rate": 0.8409090909090909,
          "false_alarm_rate": 0.0,
          "score": 0.8409090909090909
        },
        {
          "threshold": 0.9219280948873623,
          "error_capture_rate": 0.7272727272727273,
          "false_alarm_rate": 0.0,
          "score": 0.7272727272727273
        },
        {
          "threshold": 0.9311282859587554,
          "error_capture_rate": 0.7272727272727273,
          "false_alarm_rate": 0.0,
          "score": 0.7272727272727273
        },
        {
          "threshold": 1.1567796494470395,
          "error_capture_rate": 0.6136363636363636,
          "false_alarm_rate": 0.0,
          "score": 0.6136363636363636
        },
        {
          "threshold": 1.1667796494470397,
          "error_capture_rate": 0.6136363636363636,
          "false_alarm_rate": 0.0,
          "score": 0.6136363636363636
        },
        {
          "threshold": 1.4299030647319353,
          "error_capture_rate": 0.5681818181818182,
          "false_alarm_rate": 0.0,
          "score": 0.5681818181818182
        },
        {
          "threshold": 1.5666768295933022,
          "error_capture_rate": 0.5227272727272727,
          "false_alarm_rate": 0.0,
          "score": 0.5227272727272727
        },
        {
          "threshold": 1.7496654161182683,
          "error_capture_rate": 0.45454545454545453,
          "false_alarm_rate": 0.0,
          "score": 0.45454545454545453
        },
        {
          "threshold": 1.8447947375544633,
          "error_capture_rate": 0.4090909090909091,
          "false_alarm_rate": 0.0,
          "score": 0.4090909090909091
        },
        {
          "threshold": 1.9040859697359194,
          "error_capture_rate": 0.3409090909090909,
          "false_alarm_rate": 0.0,
          "score": 0.3409090909090909
        },
        {
          "threshold": 1.968453957701922,
          "error_capture_rate": 0.29545454545454547,
          "false_alarm_rate": 0.0,
          "score": 0.29545454545454547
        },
        {
          "threshold": 2.041537094714285,
          "error_capture_rate": 0.22727272727272727,
          "false_alarm_rate": 0.0,
          "score": 0.22727272727272727
        },
        {
          "threshold": 2.162518282095294,
          "error_capture_rate": 0.18181818181818182,
          "false_alarm_rate": 0.0,
          "score": 0.18181818181818182
        },
        {
          "threshold": 2.2018303448440935,
          "error_capture_rate": 0.11363636363636363,
          "false_alarm_rate": 0.0,
          "score": 0.11363636363636363
        }
      ],
      "summary_statistics": {
        "total_cases": 50,
        "total_errors": 44,
        "error_rate": 0.88
      }
    },
    "L1-3/4": {
      "test_ids": [
        "L1-3",
        "L1-4"
      ],
      "test_name": "Proxy Classification",
      "overall_passed": true,
      "individual_tests": {
        "L1_3_treatment_proxy": {
          "test_name": "Treatment Proxy Classification (Z_t)",
          "test_id": "L1-3",
          "metrics": {
            "proxy_type": "treatment_proxy",
            "true_positives": 163,
            "false_positives": 0,
            "false_negatives": 17,
            "true_negatives": 320,
            "precision": 1.0,
            "recall": 0.9055555555555556,
            "f1_score": 0.9504373177842567,
            "total_predictions_as_proxy": 163,
            "total_actual_proxies": 180
          },
          "thresholds": {
            "min_precision": 0.7,
            "min_recall": 0.6
          },
          "passed": true,
          "interpretation": "Precision: PASS (1.000 vs 0.7); Recall: PASS (0.906 vs 0.6)"
        },
        "L1_4_outcome_proxy": {
          "test_name": "Outcome Proxy Classification (W_t)",
          "test_id": "L1-4",
          "metrics": {
            "proxy_type": "outcome_proxy",
            "true_positives": 142,
            "false_positives": 0,
            "false_negatives": 25,
            "true_negatives": 333,
            "precision": 1.0,
            "recall": 0.8502994011976048,
            "f1_score": 0.9190938511326862,
            "total_predictions_as_proxy": 142,
            "total_actual_proxies": 167
          },
          "thresholds": {
            "min_precision": 0.7,
            "min_recall": 0.6
          },
          "passed": true,
          "interpretation": "Precision: PASS (1.000 vs 0.7); Recall: PASS (0.850 vs 0.6)"
        },
        "temporal_logic": {
          "test_name": "Temporal Logic Verification",
          "z_classified_as_treatment": 163,
          "z_classified_as_outcome": 0,
          "w_classified_as_outcome": 142,
          "w_classified_as_treatment": 0,
          "z_temporal_correct": true,
          "w_temporal_correct": true,
          "passed": true,
          "interpretation": "Z: \u2713 (treatment:163 > outcome:0); W: \u2713 (outcome:142 > treatment:0)"
        }
      },
      "data_summary": {
        "num_patient_days": 500,
        "num_classifications": 1000,
        "true_causal_effect": 0.5,
        "confounding_strength": 2.0
      }
    },
    "L1-5": {
      "test_id": "L1-5",
      "test_name": "Integration Test - Proximal G-Estimation",
      "overall_passed": "True",
      "estimation_results": {
        "true_effect": 0.5,
        "naive_mean": 0.8595386149148276,
        "naive_bias": 0.35953861491482764,
        "proximal_mean": 0.7465730571941314,
        "proximal_bias": 0.24657305719413136,
        "oracle_mean": 0.44638103750387115,
        "oracle_bias": 0.05361896249612885,
        "bias_reduction": 0.31419589728201264
      },
      "individual_tests": {
        "bias_reduction": {
          "test_name": "Bias Reduction via Proximal G-Estimation",
          "test_id": "L1-5",
          "naive_bias": 0.35953861491482764,
          "proximal_bias": 0.24657305719413136,
          "oracle_bias": 0.05361896249612885,
          "bias_reduction_fraction": 0.31419589728201264,
          "min_reduction_required": 0.3,
          "bias_reduced": "True",
          "reduction_sufficient": "True",
          "passed": "True",
          "interpretation": "Naive bias: 0.3595, Proximal bias: 0.2466, Oracle bias: 0.0536, Reduction: 31.4% (required: 30%) - PASS \u2713"
        },
        "effect_recovery": {
          "test_name": "True Effect Recovery",
          "true_effect": 0.5,
          "proximal_ci": [
            0.4900902571042184,
            1.0250997644447368
          ],
          "naive_ci": [
            0.5779768505460666,
            1.1398943637337833
          ],
          "oracle_ci": [
            0.2013641306575041,
            0.7031682759751692
          ],
          "proximal_covers_true": "True",
          "naive_covers_true": "False",
          "oracle_covers_true": "True",
          "interpretation": "True \u03c4=0.50; Proximal 95% CI: [0.49, 1.03] covers \u2713; Oracle 95% CI: [0.20, 0.70] covers \u2713"
        }
      },
      "data_summary": {
        "num_observations": 1000,
        "num_valid_Z": 376,
        "num_valid_W": 340,
        "confounding_strength": 1.0
      }
    }
  }
}